"0","loss_ks <- function(parms, observed_data, ntrials = 5000){"
"0","  # flip the errors of the observed data to have a single continuous distribution"
"0","  observed_data <- flip_errors(observed_data)"
"0","  # generate data, given the candidate parameters in the parms vector a flip the errors"
"0","  predicted_data <- DDM(v = parms[1], a = parms[2], ter = parms[3], ntrials=ntrials)"
"0","  predicted_data <- flip_errors(predicted_data)"
"0","  # compute the KS statistic"
"0","  ks <- suppressWarnings(ks.test(observed_data$rt, predicted_data$rt))"
"0","  return(ks$statistic)"
"0","}"
